axis.text.y=element_text(size=10))
ggplot()+
geom_point(data=MeansAll,aes(TreeRing,PermPlot,color=Site),size=3,alpha=0.5)+
geom_abline(intercept=0,slope=1,linetype=3)+
geom_pointrange(data=MeansAll,aes(TreeRing,PermPlot,color=Site,ymax=PermPlot+PPSE,ymin=PermPlot-PPSE),alpha=0.5)+
geom_errorbarh(data=MeansAll,aes(TreeRing,PermPlot,color=Site,xmax=TreeRing+TRSE,xmin=TreeRing-TRSE,height=0),alpha=0.5)+
scale_color_manual(values=palette4)+
ylab("Permanent Plot (Mg/ha/yr)")+
xlab("Tree Ring (Mg/ha/yr)")+
theme_bw()+theme(plot.title=element_text(size=10),axis.title.x=element_text(size=10),
panel.background=element_blank(),axis.title.y=element_text(size=10),
plot.margin=unit(c(0,0,0,0),"lines"),axis.line=element_line(color="black"))+
theme(legend.key=element_blank(),axis.text.x=element_text(size=8),
axis.text.y=element_text(size=10))++ theme(panel.grid.minor=element_blank(),
panel.grid.major=element_blank())
ggplot()+
geom_point(data=MeansAll,aes(TreeRing,PermPlot,color=Site),size=3,alpha=0.5)+
geom_abline(intercept=0,slope=1,linetype=3)+
geom_pointrange(data=MeansAll,aes(TreeRing,PermPlot,color=Site,ymax=PermPlot+PPSE,ymin=PermPlot-PPSE),alpha=0.5)+
geom_errorbarh(data=MeansAll,aes(TreeRing,PermPlot,color=Site,xmax=TreeRing+TRSE,xmin=TreeRing-TRSE,height=0),alpha=0.5)+
scale_color_manual(values=palette4)+
ylab("Permanent Plot (Mg/ha/yr)")+
xlab("Tree Ring (Mg/ha/yr)")+
theme_bw()+theme(plot.title=element_text(size=10),axis.title.x=element_text(size=10),
panel.background=element_blank(),axis.title.y=element_text(size=10),
plot.margin=unit(c(0,0,0,0),"lines"),axis.line=element_line(color="black"))+
theme(legend.key=element_blank(),axis.text.x=element_text(size=8),
axis.text.y=element_text(size=10))+theme(panel.grid.minor=element_blank(),
panel.grid.major=element_blank())
ggplot()+
geom_point(data=MeansAll,aes(TreeRing,PermPlot,color=Site),size=3,alpha=0.5)+
geom_abline(intercept=0,slope=1,linetype=3)+
geom_pointrange(data=MeansAll,aes(TreeRing,PermPlot,color=Site,ymax=PermPlot+PPSE,ymin=PermPlot-PPSE),alpha=0.5)+
geom_errorbarh(data=MeansAll,aes(TreeRing,PermPlot,color=Site,xmax=TreeRing+TRSE,xmin=TreeRing-TRSE,height=0),alpha=0.5)+
scale_color_manual(values=palette4)+
ylab("Permanent Plot (Mg/ha/yr)")+
xlab("Tree Ring (Mg/ha/yr)")+
theme_bw()+theme(plot.title=element_text(size=10),axis.title.x=element_text(size=10),
panel.background=element_blank(),panel.border=element_blank(),
axis.title.y=element_text(size=10),
plot.margin=unit(c(0,0,0,0),"lines"),axis.line=element_line(color="black"))+
theme(legend.key=element_blank(),axis.text.x=element_text(size=8),
axis.text.y=element_text(size=10))
ggplot()+
geom_point(data=MeansAll,aes(TreeRing,PermPlot,color=Site),size=3,alpha=0.5)+
geom_abline(intercept=0,slope=1,linetype=3)+
geom_pointrange(data=MeansAll,aes(TreeRing,PermPlot,color=Site,ymax=PermPlot+PPSE,ymin=PermPlot-PPSE),alpha=0.5)+
geom_errorbarh(data=MeansAll,aes(TreeRing,PermPlot,color=Site,xmax=TreeRing+TRSE,xmin=TreeRing-TRSE,height=0),alpha=0.5)+
scale_color_manual(values=palette4)+
ylab("Permanent Plot (Mg/ha/yr)")+
xlab("Tree Ring (Mg/ha/yr)")+
theme_bw()+theme(plot.title=element_text(size=10),axis.title.x=element_text(size=10),
panel.background=element_blank(),panel.border=element_blank(),
axis.title.y=element_text(size=10),
plot.margin=unit(c(0,0,0,0),"lines"),axis.line.x=element_line(color="black"),
axis.line.y=element_line(color="black"))+
theme(legend.key=element_blank(),axis.text.x=element_text(size=8),
axis.text.y=element_text(size=10))
setwd("~/Documents/WVU/Comparisons/Figures/Man_Figs/Revisions")
ggsave("Figure3.tiff",width=15.6,height=10,units="cm",dpi=450)
IntervalMeans<-read.csv("IntervalMeans.csv")
setwd("~/Documents/WVU/Comparisons/Graphs and Data")
IntervalMeans<-read.csv("IntervalMeans.csv")
View(IntervalMeans)
setwd("~/Documents/WVU/Comparisons/Graphs and Data")
library(ggplot2)
library(grid)
library("plyr")
HowDraws30<-read.csv("HowDraws30m.csv",header=TRUE)
randomStats<-read.csv("Howland census Stats.csv", header=TRUE)
HowNPP<-read.csv("HowNPP.csv",header=TRUE)
HowDrawsAnn<-read.csv("HowDraws.csv",header=TRUE)
plot.cenAnn<-read.csv("plot.cenAnn.csv",header=TRUE)
plot.sp<-read.csv("How census Sp.csv",header=TRUE)
LyfCensusTotal<-read.csv("LyfordCensusTotal.csv")
HowCensusTotal<-read.csv("HowlandCensusTotal.csv")
FerCensusTotal<-read.csv("FernowCensusTotal.csv")
LyfordNPP<-read.csv("LyfordNPP.csv",header=TRUE)
plot.lyfAnn<-read.csv("plot.lyfAnn.csv",header=TRUE)
LyfDrawsAnn<-read.csv("Lyf Draws annAB.csv",header=TRUE)
LyfDrawsAnn30m<-read.csv("Lyf Draws annAB_30m.csv",header=TRUE)
fer.field.data<-read.table("Fernow field data.csv", header=T,sep=",")
ferCen<-read.csv("fernow basic census bio.csv",header=TRUE)
ferNPP<-read.csv("Fer ANPP.csv",header=T)
plot.ferAnn<-read.csv("plot.ferAnn.csv",header=TRUE)
Tow.NPP<-read.csv("TowerNPP.csv")
TowDraws<-read.csv("Tow Draws annAB.csv")
View(plot.sp)
plot(HowDrawsAnn)
plot(HowDrawsAnn)
View(LyfDrawsAnn30m)
ggplot()+
geom_histogram(data=LyfDrawsAnn30m,aes(x=annAB,y=..density..),color="NA",fill="forestgreen",alpha=0.2)
ggplot()+
geom_density(data=LyfDrawsAnn30m,aes(x=annAB,y=..density..),color="NA",fill="forestgreen",alpha=0.2)
ggplot()+
geom_density(data=LyfDrawsAnn30m,aes(x=annAB,y=..density..),color="NA",fill="forestgreen",alpha=0.2)+
geom_density(data=LyfDrawsAnn,aes(x=annAB,y=..density..),color="NA",fill="forestgreen",alpha=0.2)
HowNPP<-read.csv("HowNPP.csv",header=TRUE)
HowDrawsAnn<-read.csv("HowDraws.csv",header=TRUE)
HowDraws30<-read.csv("HowDraws30m.csv",header=TRUE)
HowDrawsAB<-read.csv("How Draws AB.csv",header=TRUE)
plot.cenAnn<-read.csv("plot.cenAnn.csv",header=TRUE)
LyfCensusTotal<-read.csv("LyfordCensusTotal.csv")
HowCensusTotal<-read.csv("HowlandCensusTotal.csv")
FerCensusTotal<-read.csv("FernowCensusTotal.csv")
LyfordNPP<-read.csv("LyfordNPP.csv",header=TRUE)
plot.lyfAnn<-read.csv("plot.lyfAnn.csv",header=TRUE)
LyfDrawsAnn<-read.csv("Lyf Draws annAB.csv",header=TRUE)
LyfDrawsAnn30m<-read.csv("Lyf Draws annAB_30m.csv",header=TRUE)
fer.field.data<-read.table("Fernow field data.csv", header=T,sep=",")
ferCen<-read.csv("fernow basic census bio.csv",header=TRUE)
ferNPP<-read.csv("Fer ANPP.csv",header=T)
plot.ferAnn<-read.csv("plot.ferAnn.csv",header=TRUE)
Tow.NPP<-read.csv("TowerNPP.csv")
TowDraws<-read.csv("Tow Draws annAB.csv")
View(LyfDrawsAnn)
ggplot()+
geom_density(data=LyfDrawsAnn30m,aes(x=annAB,y=..density..),color="NA",fill="forestgreen",alpha=0.2)+
geom_density(data=LyfDrawsAnn,aes(x=wNPP,y=..density..),color="NA",fill="forestgreen",alpha=0.2)
geom_density(data=LyfDrawsAnn30m,aes(x=annAB,y=..density..),color="NA",fill="forestgreen",alpha=0.2)+
geom_density(data=LyfDrawsAnn,aes(x=wNPP,y=..density..),color="NA",fill="forestgreen",alpha=0.2)+
theme_bw()+theme(plot.title=element_text(size=10),axis.title.x=element_text(size=10),
panel.background=element_blank(),panel.border=element_blank(),
axis.title.y=element_text(size=10),
plot.margin=unit(c(0,0,0,0),"lines"),axis.line.x=element_line(color="black"),
axis.line.y=element_line(color="black"))+
theme(legend.key=element_blank(),axis.text.x=element_text(size=8),
axis.text.y=element_text(size=10))
ggplot()+
geom_density(data=LyfDrawsAnn30m,aes(x=annAB,y=..density..),color="NA",fill="forestgreen",alpha=0.2)+
geom_density(data=LyfDrawsAnn,aes(x=wNPP,y=..density..),color="NA",fill="forestgreen",alpha=0.2)
ggplot()+
geom_density(data=LyfDrawsAnn30m,aes(x=annAB,y=..density..),color="NA",fill="grey40",alpha=0.2)+
geom_density(data=LyfDrawsAnn,aes(x=wNPP,y=..density..),color="NA",fill="grey40",alpha=0.2)
ggplot()+
geom_density(data=LyfDrawsAnn30m,aes(x=annAB,y=..density..),color="NA",fill="grey40",alpha=0.2)+
geom_density(data=LyfDrawsAnn,aes(x=wNPP,y=..density..),color="NA",fill="grey40",alpha=0.2)+
geom_density(data=HowDraws30,aes(x=wNPP,y=..density..),color="NA",fill="grey40",alpha=0.2)+
geom_density(data=HowDrawsAnn,aes(x=wNPP,y=..density..),color="NA",fill="grey40",alpha=0.2)
View(HowDrawsAnn)
View(HowDraws30)
ggplot()+
geom_density(data=LyfDrawsAnn30m,aes(x=annAB,y=..density..),color="NA",fill="grey40",alpha=0.2)+
geom_density(data=LyfDrawsAnn,aes(x=wNPP,y=..density..),color="NA",fill="grey40",alpha=0.2)+
geom_density(data=HowDraws30,aes(x=annAB,y=..density..),color="NA",fill="grey40",alpha=0.2)+
geom_density(data=HowDrawsAnn,aes(x=wNPP,y=..density..),color="NA",fill="grey40",alpha=0.2)
View(HowDraws30)
View(HowDrawsAnn)
View(HowDraws30)
HowDraws30<-read.csv("HowDraws30m.csv",header=TRUE)
ggplot()+
geom_density(data=LyfDrawsAnn30m,aes(x=annAB,y=..density..),color="NA",fill="grey40",alpha=0.2)+
geom_density(data=LyfDrawsAnn,aes(x=wNPP,y=..density..),color="NA",fill="grey40",alpha=0.2)+
geom_density(data=HowDraws30,aes(x=wNPP,y=..density..),color="NA",fill="grey40",alpha=0.2)+
geom_density(data=HowDrawsAnn,aes(x=wNPP,y=..density..),color="NA",fill="grey40",alpha=0.2)
ggplot()+
geom_density(data=LyfDrawsAnn30m,aes(x=annAB,y=..density..),color="NA",fill="burlywood",alpha=0.2)+
geom_density(data=LyfDrawsAnn,aes(x=wNPP,y=..density..),color="NA",fill="burlywood",alpha=0.2)+
geom_density(data=HowDraws30,aes(x=wNPP,y=..density..),color="NA",fill="forestgreen",alpha=0.2)+
geom_density(data=HowDrawsAnn,aes(x=wNPP,y=..density..),color="NA",fill="forestgreen",alpha=0.2)
ggplot()+
geom_density(data=LyfDrawsAnn30m,aes(x=annAB,y=..density..),color="NA",fill="burlywood",alpha=0.2)+
geom_density(data=LyfDrawsAnn,aes(x=wNPP,y=..density..),color="NA",fill="burlywood",alpha=0.2)+
geom_density(data=HowDraws30,aes(x=wNPP,y=..density..),color="NA",fill="forestgreen",alpha=0.2)+
geom_density(data=HowDrawsAnn,aes(x=wNPP,y=..density..),color="NA",fill="forestgreen",alpha=0.2)
theme_bw()+theme(plot.title=element_text(size=10),axis.title.x=element_text(size=10),
panel.background=element_blank(),panel.border=element_blank(),
axis.title.y=element_text(size=10),
plot.margin=unit(c(0,0,0,0),"lines"),axis.line.x=element_line(color="black"),
axis.line.y=element_line(color="black"))+
theme(legend.key=element_blank(),axis.text.x=element_text(size=8),
axis.text.y=element_text(size=10))
ggplot()+
geom_density(data=LyfDrawsAnn30m,aes(x=annAB,y=..density..),color="NA",fill="burlywood",alpha=0.2)+
geom_density(data=LyfDrawsAnn,aes(x=wNPP,y=..density..),color="NA",fill="burlywood",alpha=0.2)+
geom_density(data=HowDraws30,aes(x=wNPP,y=..density..),color="NA",fill="forestgreen",alpha=0.2)+
geom_density(data=HowDrawsAnn,aes(x=wNPP,y=..density..),color="NA",fill="forestgreen",alpha=0.2)
theme_bw()+theme(plot.title=element_text(size=10),axis.title.x=element_text(size=10),
panel.background=element_blank(),panel.border=element_blank(),
axis.title.y=element_text(size=10),
plot.margin=unit(c(0,0,0,0),"lines"),axis.line.x=element_line(color="black"),
axis.line.y=element_line(color="black"))+
theme(legend.key=element_blank(),axis.text.x=element_text(size=8),
axis.text.y=element_text(size=10))
ggplot()+
geom_density(data=LyfDrawsAnn30m,aes(x=annAB,y=..density..),color="NA",fill="burlywood",alpha=0.2)+
geom_density(data=LyfDrawsAnn,aes(x=wNPP,y=..density..),color="NA",fill="burlywood",alpha=0.2)+
geom_density(data=HowDraws30,aes(x=wNPP,y=..density..),color="NA",fill="forestgreen",alpha=0.2)+
geom_density(data=HowDrawsAnn,aes(x=wNPP,y=..density..),color="NA",fill="forestgreen",alpha=0.2)
theme_bw()+theme(plot.title=element_text(size=10),axis.title.x=element_text(size=10),
panel.background=element_blank(),panel.border=element_blank(),
axis.title.y=element_text(size=10),
plot.margin=unit(c(0,0,0,0),"lines"),axis.line.x=element_line(color="black"),
axis.line.y=element_line(color="black"))
MCtheme<-theme_bw()+theme(panel.border=element_blank(),plot.title=element_text(size=10),axis.title.x=element_text(size=10),
panel.background=element_blank(),axis.title.y=element_text(size=10),
plot.margin=unit(c(0,0,0,0),"lines"),axis.line=element_line(color="black"))+
theme(legend.key=element_blank(),axis.text.x=element_text(size=8),
axis.text.y=element_text(size=10))
ggplot()+
geom_density(data=LyfDrawsAnn30m,aes(x=annAB,y=..density..),color="NA",fill="burlywood",alpha=0.2)+
geom_density(data=LyfDrawsAnn,aes(x=wNPP,y=..density..),color="NA",fill="burlywood",alpha=0.2)+
geom_density(data=HowDraws30,aes(x=wNPP,y=..density..),color="NA",fill="forestgreen",alpha=0.2)+
geom_density(data=HowDrawsAnn,aes(x=wNPP,y=..density..),color="NA",fill="forestgreen",alpha=0.2)+
MCtheme
ggplot()+
geom_density(data=LyfDrawsAnn30m,aes(x=annAB,y=..density..),color="NA",fill="burlywood",alpha=0.2)+
geom_density(data=LyfDrawsAnn,aes(x=wNPP,y=..density..),color="NA",fill="burlywood",alpha=0.2)+
geom_density(data=HowDraws30,aes(x=wNPP,y=..density..),color="NA",fill="forestgreen",alpha=0.2)+
geom_density(data=HowDrawsAnn,aes(x=wNPP,y=..density..),color="NA",fill="forestgreen",alpha=0.2)+
xlab("Mg/ha/yr")+
MCtheme+theme(axis.line.x=element_line(color="black"),
axis.line.y=element_line(color="black"))
View(plot.ferAnn)
View(plot.ferAnn)
ggplot()+
geom_density(data=LyfDrawsAnn30m,aes(x=annAB,y=..density..),color="NA",fill="burlywood",alpha=0.2)+
geom_density(data=LyfDrawsAnn,aes(x=wNPP,y=..density..),color="NA",fill="burlywood",alpha=0.2)+
geom_density(data=HowDraws30,aes(x=wNPP,y=..density..),color="NA",fill="forestgreen",alpha=0.2)+
geom_density(data=HowDrawsAnn,aes(x=wNPP,y=..density..),color="NA",fill="forestgreen",alpha=0.2)+
geom_density(data=plot.ferAnn,aes(x=wNPP_C,y=..density..),color="NA",fill="blue",alpha=0.2)
xlab("Mg/ha/yr")+
MCtheme+theme(axis.line.x=element_line(color="black"),
axis.line.y=element_line(color="black"))
View(plot.ferAnn)
ferAB<-read.csv("ferAB by plot.csv")
View(ferAB)
View(ferCen)
setwd("~/Documents/WVU/Comparisons/Census/Fernow")
View(plot.ferAnn)
plot.fer<-read.csv("plot.fer.csv")
View(plot.fer)
View(plot.fer)
plot.fer$annAB<-plot.fer$annAB*0.5
View(plot.fer)
View(plot.ferAnn)
View(plot.fer)
View(plot.fer)
View(plot.fer)
lyfordAB<-function(x){
Total.ha<-aggregate(x$annAB,by=list(year=x$Year),mean)
colnames(Total.ha)<-c("year","AB.ha")
Total.ha$year<-as.numeric(as.character(Total.ha$year))
Total.ann<-(Total.ha$AB.ha[-1]-Total.ha$AB.ha[-length(Total.ha$AB.ha)])/(Total.ha$year[-1]-Total.ha$year[-length(Total.ha$year)])
Total.ann<-c(Total.ann[1],Total.ann)
Total.ha$annAB<-Total.ann
return(Total.ha)
}
randomFer<-replicate(100,lyfordAB(subset(plot.fer,plot %in% sample(unique(plot.fer$plot),3))))
View(plot.fer)
View(plot.fer)
lyfordAB<-function(x){
Total.ha<-aggregate(x$annAB,by=list(year=x$year),mean)
colnames(Total.ha)<-c("year","AB.ha")
Total.ha$year<-as.numeric(as.character(Total.ha$year))
Total.ann<-(Total.ha$AB.ha[-1]-Total.ha$AB.ha[-length(Total.ha$AB.ha)])/(Total.ha$year[-1]-Total.ha$year[-length(Total.ha$year)])
Total.ann<-c(Total.ann[1],Total.ann)
Total.ha$annAB<-Total.ann
return(Total.ha)
}
randomFer<-replicate(100,lyfordAB(subset(plot.fer,plot %in% sample(unique(plot.fer$plot),3))))
View(randomFer)
ferAByear<-data.frame(year=unlist(randomfer[1,]))
ferAByear<-data.frame(year=unlist(randomFer[1,]))
ferUnlistAB<-data.frame(AB=unlist(randomFer[2,]))
ferABDraws<-cbind(year=ferAByear,annAB=ferUnlistAB)
View(ferABDraws)
View(plot.fer)
View(ferABDraws)
View(ferABDraws)
View(ferABDraws)
ggplot()+
geom_density(data=LyfDrawsAnn30m,aes(x=annAB,y=..density..),color="NA",fill="burlywood",alpha=0.2)+
geom_density(data=LyfDrawsAnn,aes(x=wNPP,y=..density..),color="NA",fill="burlywood",alpha=0.2)+
geom_density(data=HowDraws30,aes(x=wNPP,y=..density..),color="NA",fill="forestgreen",alpha=0.2)+
geom_density(data=HowDrawsAnn,aes(x=wNPP,y=..density..),color="NA",fill="forestgreen",alpha=0.2)+
geom_density(data=plot.ferAnn,aes(x=wNPP_C,y=..density..),color="NA",fill="blue",alpha=0.2)+
geom_density(data=ferABDraws,aes(x=AB,y=..density..),color="NA",fill="blue",alpha=0.2)+
xlab("Mg/ha/yr")+
MCtheme+theme(axis.line.x=element_line(color="black"),
axis.line.y=element_line(color="black"))
ggplot()+
geom_density(data=LyfDrawsAnn30m,aes(x=annAB,y=..density..),color="NA",fill="burlywood",alpha=0.2)+
geom_density(data=LyfDrawsAnn,aes(x=wNPP,y=..density..),color="NA",fill="burlywood",alpha=0.2)+
geom_density(data=HowDraws30,aes(x=wNPP,y=..density..),color="NA",fill="forestgreen",alpha=0.2)+
geom_density(data=HowDrawsAnn,aes(x=wNPP,y=..density..),color="NA",fill="forestgreen",alpha=0.2)+
geom_density(data=plot.ferAnn,aes(x=wNPP_C,y=..density..),color="NA",fill="blue",alpha=0.2)+
geom_density(data=ferABDraws,aes(x=AB,y=..density..),color="NA",fill="blue",alpha=0.2)+
xlab("Mg/ha/yr")+
scale_y_continuous(limits=c(0,5))+
MCtheme+theme(axis.line.x=element_line(color="black"),
axis.line.y=element_line(color="black"))
ggplot()+
geom_density(data=LyfDrawsAnn30m,aes(x=annAB,y=..density..),color="NA",fill="burlywood",alpha=0.2)+
geom_density(data=LyfDrawsAnn,aes(x=wNPP,y=..density..),color="NA",fill="burlywood",alpha=0.2)+
geom_density(data=HowDraws30,aes(x=wNPP,y=..density..),color="NA",fill="forestgreen",alpha=0.2)+
geom_density(data=HowDrawsAnn,aes(x=wNPP,y=..density..),color="NA",fill="forestgreen",alpha=0.2)+
geom_density(data=plot.ferAnn,aes(x=wNPP_C,y=..density..),color="NA",fill="blue",alpha=0.2)+
geom_density(data=ferABDraws,aes(x=AB,y=..density..),color="NA",fill="blue",alpha=0.2)+
xlab("Mg/ha/yr")+
scale_x_continuous(limits=c(0,5))+
MCtheme+theme(axis.line.x=element_line(color="black"),
axis.line.y=element_line(color="black"))
ggplot()+
geom_density(data=LyfDrawsAnn30m,aes(x=annAB,y=..density..),color="burlywood",fill="NA",alpha=0.2)+
geom_density(data=LyfDrawsAnn,aes(x=wNPP,y=..density..),color="NA",fill="burlywood",alpha=0.2)+
geom_density(data=HowDraws30,aes(x=wNPP,y=..density..),color="NA",fill="forestgreen",alpha=0.2)+
geom_density(data=HowDrawsAnn,aes(x=wNPP,y=..density..),color="NA",fill="forestgreen",alpha=0.2)+
geom_density(data=plot.ferAnn,aes(x=wNPP_C,y=..density..),color="NA",fill="blue",alpha=0.2)+
geom_density(data=ferABDraws,aes(x=AB,y=..density..),color="NA",fill="blue",alpha=0.2)+
xlab("Mg/ha/yr")+
scale_x_continuous(limits=c(0,5))+
MCtheme+theme(axis.line.x=element_line(color="black"),
axis.line.y=element_line(color="black"))
ggplot()+
geom_density(data=LyfDrawsAnn30m,aes(x=annAB,y=..density..),color="burlywood",fill="NA",alpha=0.2)+
geom_density(data=LyfDrawsAnn,aes(x=wNPP,y=..density..),color="NA",fill="burlywood",alpha=0.2)+
geom_density(data=HowDraws30,aes(x=wNPP,y=..density..),color="forestgreen",fill="NA",alpha=0.2)+
geom_density(data=HowDrawsAnn,aes(x=wNPP,y=..density..),color="NA",fill="forestgreen",alpha=0.2)+
geom_density(data=plot.ferAnn,aes(x=wNPP_C,y=..density..),color="NA",fill="blue",alpha=0.2)+
geom_density(data=ferABDraws,aes(x=AB,y=..density..),color="blue",fill="NA",alpha=0.2)+
xlab("Mg/ha/yr")+
scale_x_continuous(limits=c(0,5))+
MCtheme+theme(axis.line.x=element_line(color="black"),
axis.line.y=element_line(color="black"))
ggplot()+
geom_density(data=plot.ferAnn,aes(x=wNPP_C,y=..density..),color="NA",fill="blue",alpha=0.2)+
geom_density(data=ferABDraws,aes(x=AB,y=..density..),color="blue",fill="NA",alpha=0.2)+
geom_density(data=LyfDrawsAnn30m,aes(x=annAB,y=..density..),color="burlywood",fill="NA",alpha=0.2)+
geom_density(data=LyfDrawsAnn,aes(x=wNPP,y=..density..),color="NA",fill="burlywood",alpha=0.2)+
geom_density(data=HowDraws30,aes(x=wNPP,y=..density..),color="forestgreen",fill="NA",alpha=0.2)+
geom_density(data=HowDrawsAnn,aes(x=wNPP,y=..density..),color="NA",fill="forestgreen",alpha=0.2)+
xlab("Mg/ha/yr")+
scale_x_continuous(limits=c(0,5))+
MCtheme+theme(axis.line.x=element_line(color="black"),
axis.line.y=element_line(color="black"))
randomFer<-replicate(10,lyfordAB(subset(plot.fer,plot %in% sample(unique(plot.fer$plot),3))))
ferAByear<-data.frame(year=unlist(randomFer[1,]))
ferUnlistAB<-data.frame(AB=unlist(randomFer[2,]))
ferABDraws<-cbind(year=ferAByear,annAB=ferUnlistAB)
ggplot()+
geom_density(data=plot.ferAnn,aes(x=wNPP_C,y=..density..),color="NA",fill="blue",alpha=0.2)+
geom_density(data=ferABDraws,aes(x=AB,y=..density..),color="blue",fill="NA",alpha=0.2)+
geom_density(data=LyfDrawsAnn30m,aes(x=annAB,y=..density..),color="burlywood",fill="NA",alpha=0.2)+
geom_density(data=LyfDrawsAnn,aes(x=wNPP,y=..density..),color="NA",fill="burlywood",alpha=0.2)+
geom_density(data=HowDraws30,aes(x=wNPP,y=..density..),color="forestgreen",fill="NA",alpha=0.2)+
geom_density(data=HowDrawsAnn,aes(x=wNPP,y=..density..),color="NA",fill="forestgreen",alpha=0.2)+
xlab("Mg/ha/yr")+
scale_x_continuous(limits=c(0,5))+
MCtheme+theme(axis.line.x=element_line(color="black"),
axis.line.y=element_line(color="black"))
setwd("~/Documents/WVU/Comparisons/Graphs and Data")
write.csv(ferABDraws,file="ferABDraws.csv")
ggsave("Figure4.tiff",width=15.6,height=10,units="cm",dpi=450)
setwd("~/Documents/WVU/Comparisons/Figures/Man_Figs/Revisions")
ggsave("Figure4.tiff",width=15.6,height=10,units="cm",dpi=450)
setwd("~/Documents/WVU/Comparisons/Graphs and Data")
MeansAll<-read.csv("MeansAll.csv")
MeansAll<-arrange(transform(MeansAll,Site=factor(Site,neworder2)),Site)
neworder2<-c("Howland","Lyford","EMS","Fernow")
MeansAll<-arrange(transform(MeansAll,Site=factor(Site,neworder2)),Site)
palette4<-c("forestgreen","burlywood","seagreen","blue")
ggplot()+
geom_point(data=MeansAll,aes(TreeRing,PermPlot,color=Site),size=3,alpha=0.5)+
geom_abline(intercept=0,slope=1,linetype=3)+
geom_pointrange(data=MeansAll,aes(TreeRing,PermPlot,color=Site,ymax=PermPlot+PPSE,ymin=PermPlot-PPSE),alpha=0.5)+
geom_errorbarh(data=MeansAll,aes(TreeRing,PermPlot,color=Site,xmax=TreeRing+TRSE,xmin=TreeRing-TRSE,height=0),alpha=0.5)+
scale_color_manual(values=palette4)+
ylab("Permanent Plot (Mg/ha/yr)")+
xlab("Tree Ring (Mg/ha/yr)")+
theme_bw()+theme(plot.title=element_text(size=10),axis.title.x=element_text(size=10),
panel.background=element_blank(),panel.border=element_blank(),
axis.title.y=element_text(size=10),
plot.margin=unit(c(0,0,0,0),"lines"),axis.line.x=element_line(color="black"),
axis.line.y=element_line(color="black"))+
theme(legend.key=element_blank(),axis.text.x=element_text(size=8),
axis.text.y=element_text(size=10))
palette4<-c("forestgreen","burlywood","olivedrab2","blue")
ggplot()+
geom_point(data=MeansAll,aes(TreeRing,PermPlot,color=Site),size=3,alpha=0.5)+
geom_abline(intercept=0,slope=1,linetype=3)+
geom_pointrange(data=MeansAll,aes(TreeRing,PermPlot,color=Site,ymax=PermPlot+PPSE,ymin=PermPlot-PPSE),alpha=0.5)+
geom_errorbarh(data=MeansAll,aes(TreeRing,PermPlot,color=Site,xmax=TreeRing+TRSE,xmin=TreeRing-TRSE,height=0),alpha=0.5)+
scale_color_manual(values=palette4)+
ylab("Permanent Plot (Mg/ha/yr)")+
xlab("Tree Ring (Mg/ha/yr)")+
theme_bw()+theme(plot.title=element_text(size=10),axis.title.x=element_text(size=10),
panel.background=element_blank(),panel.border=element_blank(),
axis.title.y=element_text(size=10),
plot.margin=unit(c(0,0,0,0),"lines"),axis.line.x=element_line(color="black"),
axis.line.y=element_line(color="black"))+
theme(legend.key=element_blank(),axis.text.x=element_text(size=8),
axis.text.y=element_text(size=10))
palette4<-c("forestgreen","burlywood","darkorchid4","blue")
ggplot()+
geom_point(data=MeansAll,aes(TreeRing,PermPlot,color=Site),size=3,alpha=0.5)+
geom_abline(intercept=0,slope=1,linetype=3)+
geom_pointrange(data=MeansAll,aes(TreeRing,PermPlot,color=Site,ymax=PermPlot+PPSE,ymin=PermPlot-PPSE),alpha=0.5)+
geom_errorbarh(data=MeansAll,aes(TreeRing,PermPlot,color=Site,xmax=TreeRing+TRSE,xmin=TreeRing-TRSE,height=0),alpha=0.5)+
scale_color_manual(values=palette4)+
ylab("Permanent Plot (Mg/ha/yr)")+
xlab("Tree Ring (Mg/ha/yr)")+
theme_bw()+theme(plot.title=element_text(size=10),axis.title.x=element_text(size=10),
panel.background=element_blank(),panel.border=element_blank(),
axis.title.y=element_text(size=10),
plot.margin=unit(c(0,0,0,0),"lines"),axis.line.x=element_line(color="black"),
axis.line.y=element_line(color="black"))+
theme(legend.key=element_blank(),axis.text.x=element_text(size=8),
axis.text.y=element_text(size=10))
setwd("~/Documents/WVU/Comparisons/Figures/Man_Figs/Revisions")
ggsave("Figure3_2.tiff",width=15.6,height=10,units="cm",dpi=450)
setwd("~/Documents/WVU/Comparisons/Graphs and Data")
bio.eq<-read.csv("biomass_coeff.csv")
randomAllo<-replicate(10000,bio.eq(subset(bio.eq,species %in% sample(unique(bio.eq$species),14))))
View(bio.eq)
ab<-function(x){
ab.all<-merge(ab.all,x,by="Species")
ab.all$AB<-(ab.all$a*ab.all$dbhest2^ab.all$b)*0.001
ab.all$annAB<-(ab.all$a*(ab.all$dbhest2^ab.all$b-ab.all$dbhest1^ab.all$b))*0.001
return(ab.all)
}
setwd("~/Documents/WVU/Data files/HowlandTR/HowlandTreeRings")
library(dplR)
setwd("~/Documents/WVU/Data files/HowlandTR/HowlandTreeRings/RawRW_Data_by_sp")
coreMeans<-function(core_recode,site_recode,tree_recode){
files_to_read<-list.files()
core.means.all<-NULL
for (i in files_to_read){
file_read<-read.rwl(i)
assign(i,file_read)
cores<-data.frame("code"=names(file_read))
cores$coreID<- substr(as.character(cores$code),core_recode[1],core_recode[2])
core.means<-data.frame("Year"=row.names(file_read))
core.means<-NULL
n=1
file_read$Year<-row.names(file_read)
for (j in unique(cores$coreID)){
print(j)
print(n)
tree1<-data.frame(file_read[,c(as.character(cores$code[cores$coreID==j]),"Year")])
if(dim(tree1)[2]>1){
tree2<-data.frame(rowMeans(subset(tree1, select=-c(Year)),na.rm=T))
} else {tree2=tree1}
tree2<-na.omit(tree2)
tree2$tree<-j
tree2$year<-as.numeric(as.character(row.names(tree2)))
tree2$rACUM<-0
tree2$rACUM.inv<-0
for(k in 1:dim(tree2)[1]){
tree2$rACUM[k]<-sum(tree2[c(1:k),1])
tree2$rACUM.inv[k-1]<-sum(tree2[c((k):(dim(tree2)[1])),1])
}
names(tree2)<-c("meanRW","coreID","Year","rACUM","rACUM.inv")
if(n==1)(core.means<-tree2)else(core.means<-rbind(core.means, tree2))
n=n+1}
core.means.all<-rbind(core.means.all,core.means)
}
core.means.all$Site<-substr(as.character(core.means.all$coreID),site_recode[1],site_recode[2])
core.means.all$Tree<-as.numeric(as.character(substr(as.character(core.means.all$coreID),tree_recode[1],tree_recode[2])))
return(core.means.all)
}
core.means<-coreMeans(core_recode=c(1,6),site_recode=c(1,3),tree_recode=c(4,5))
setwd("~/Documents/WVU/Data files/HowlandTR/HowlandTreeRings")
field.data<-read.csv("How.field.data.csv")
setwd("~/Documents/WVU/Data files/HowlandTR/HowlandTreeRings")
field.data<-read.csv("How.field.csv")
ab.all<-merge(core.means,field.data, by=c("Site","Tree"))
randomAllo<-replicate(10000,ab(subset(bio.eq,species %in% sample(unique(bio.eq$species),14))))
View(bio.eq)
setwd("~/Documents/WVU/Comparisons/Graphs and Data")
bio.eq<-read.csv("biomass_coeff.csv")
randomAllo<-replicate(10000,ab(subset(bio.eq,species %in% sample(unique(bio.eq$species),14))))
randomAllo<-replicate(10000,ab(subset(bio.eq,Species %in% sample(unique(bio.eq$Species),14))))
randomUnlistAllo<-data.frame(year=unlist(randomAllo[1,]))
View(randomAllo)
View(bio.eq)
View(ab.all)
ab.all<-merge(core.means,field.data, by=c("Site","Tree"))
randomAllo<-replicate(10000,ab(subset(bio.eq,Species %in% sample(unique(bio.eq$Species),14))))
View(randomAllo)
ab.all<-merge(core.means,field.data, by=c("Site","Tree"))
setwd("~/Documents/WVU/Data files/NPP_Christy")
field.data<-read.csv("How.field.data.csv")
View(core.means)
View(field.data)
ab.all<-merge(core.means,field.data, by=c("Site","Tree"))
View(core.means)
View(field.data)
core.means<-coreMeans(core_recode=c(1,7),site_recode=c(1,4),tree_recode=c(5,7))
setwd("~/Documents/WVU/Data files/HowlandTR/HowlandTreeRings/RawRW_Data_by_sp")
core.means<-coreMeans(core_recode=c(1,7),site_recode=c(1,4),tree_recode=c(5,7))
ab.all<-merge(core.means,field.data, by=c("Site","Tree"))
View(ab.all)
View(ab.all)
randomAllo<-replicate(10000,ab(subset(bio.eq,Species %in% sample(unique(bio.eq$Species),14))))
View(ab.all)
ab.all$dbhest1<-ab.all$DBH-0.2*(ab.all$rACUM.inv+ab.all$meanRW) #0.2 is a conversion from radius to diameter
ab.all$dbhest1[ab.all$dbhest1<0]<-NA
ab.all$dbhest2<-ab.all$DBH-0.2*(ab.all$rACUM.inv)
ab.all$dbhest2[ab.all$dbhest2<0]<-NA
ab<-function(x){
ab<-merge(ab.all,x,by="Species")
ab$AB<-(ab$a*ab$dbhest2^ab$b)*0.001
ab$annAB<-(ab$a*(ab$dbhest2^ab$b-ab$dbhest1^ab$b))*0.001
return(ab)
}
randomAllo<-replicate(10000,ab(subset(bio.eq,Species %in% sample(unique(bio.eq$Species),14))))
randomAllo<-replicate(10,ab(subset(bio.eq,Species %in% sample(unique(bio.eq$Species),14))))
randomAllo<-replicate(10,ab(subset(bio.eq,Species %in% sample(unique(bio.eq$Species),14))))
View(randomAllo)
View(randomAllo)
